# 项目简历:Quiz

## 项目介绍

本项目是一个基于 Java Spring Boot 和 Vue 3 (UniApp) 技术栈开发的综合性问答与任务管理平台。项目旨在提供灵活的试卷生成、在线答题、积分任务奖励以及用户道具管理功能。此外，系统还包含了一套特定的设备验证与脚本使用记录功能，适用于通过移动端或多端（H5、小程序、App）访问的场景。

## 功能介绍

*   **问答系统**：
    *   **试卷管理**：支持试卷的创建、分类管理、封面设置及状态控制。
    *   **题库管理**：支持单选/多选等题目类型的录入，支持题目标签和分类。
    *   **在线答题**：用户可在线参与答题，系统自动记录选项、得分及答题时间。
    *   **成绩统计**：自动计算答卷得分，生成历史记录。
*   **任务与奖励系统**：
    *   **任务中心**：发布各类奖励任务（如每日签到、答题任务等），设定完成条件。
    *   **进度追踪**：实时追踪用户任务完成进度。
    *   **奖励发放**：任务完成后自动或手动发放奖励（如积分、道具）。
*   **用户与权限中心**：
    *   **账号体系**：支持用户名/密码注册登录，以及第三方平台（如微信 OpenID）快捷登录。
    *   **角色权限 (RBAC)**：基于角色（Role）和权限（Permission）的细粒度访问控制，区分管理员、普通用户等。
    *   **个人中心**：管理用户昵称、头像、手机号、邮箱等信息。
*   **道具商城**：
    *   **道具管理**：定义道具属性与描述。
    *   **用户背包**：管理用户持有的道具数量及变更记录。
*   **设备与脚本管理** (特色功能)：
    *   **设备授权**：基于设备ID（Device ID）的授权管理，支持试用、VIP、SVIP 等分级授权。
    *   **使用记录**：详细记录特定功能（脚本/辅助）的调用时间、游戏账号、区服信息及角色信息。

## 系统架构

采用经典的 **前后端分离架构**：

*   **前端**：基于 UniApp 框架开发，实现一次开发，多端发布（Android, iOS, H5, 小程序）。通过 RESTful API 与后端通讯。
*   **后端**：基于 Spring Boot 框架构建的单体应用，提供稳健的业务逻辑处理。
*   **数据库**：使用 MySQL 存储业务数据，设计了规范的关系型数据模型。

## 架构设计

*   **分层架构**：严格遵循 Controller (控制层) -> Service (业务层) -> Mapper (持久层) -> Database 的分层模式，确保代码高内聚低耦合。
*   **模块化设计**：核心业务模块（Quiz）、通用模块（User/Auth）、生成器模块（Code Generator）分离。

## 技术实现方式

*   **后端技术栈**：
    *   **核心框架**：Spring Boot 2.7.0
    *   **构建工具**：Maven 3 (多模块管理)
    *   **语言版本**：Java 8
    *   **持久层**：MyBatis / MyBatis-Plus (推测基于 Mapper 结构)
    *   **安全框架**：Spring Security (推测基于 security 包)
    *   **数据库**：MySQL
*   **前端技术栈**：
    *   **核心框架**：Vue 3 + TypeScript
    *   **跨端框架**：UniApp (v3)
    *   **构建工具**：Vite
    *   **状态管理**：Pinia
    *   **样式预处理**：Sass

## 技术实现细节

*   **数据模型优化**：使用 `int unsigned` 和适当的索引（Index）策略（如联合索引 `paper_id_question_id`）来优化查询性能，特别是针对高频查询的用户ID和关联表ID。
*   **安全认证**：实现了基于Token的认证机制（推测），结合 Spring Security 进行接口级别的权限拦截。实现了密码加密存储。
*   **多端适配**：前端使用 UniApp 的条件编译和组件化能力，确保在 App 和 H5 端的一致性体验。
*   **异常处理**：全局异常捕获与统一响应结果封装（Result/Response Wrapper），提升接口稳定性。

## 数据流

1.  **用户请求**：用户通过 UniApp 前端界面发起 HTTP 请求（GET/POST）。
2.  **网关/拦截**：请求进入 Spring Boot，经过 Security 过滤器链进行身份验证。
3.  **业务处理**：Controller 接收请求 -> Service 执行复杂业务逻辑（如计算分数、判断权限）。
4.  **数据交互**：Service 调用 Mapper 接口 -> 执行 SQL 语句与 MySQL 交互。
5.  **响应返回**：数据经由 DTO/Entity 转换，封装为 JSON 格式返回给前端渲染。

## 接口设计

遵循 RESTful 风格设计原则：

*   **路径规范**：使用清晰的名词复数表示资源（如 `/api/papers`, `/api/users`）。
*   **动词规范**：使用 HTTP Method 表明操作（GET 获取, POST 创建, PUT 更新, DELETE 删除）。
*   **状态码**：使用 HTTP 状态码（200 OK, 401 Unauthorized, 403 Forbidden, 500 Error）标识请求结果。

## 性能设计

*   **数据库索引**：在 `created_at`, `user_id`, `paper_id` 等高频查询字段上建立了索引，显著提升列表查询和关联查询速度。
*   **前端优化**：Vite 构建提供极速的冷启动和热更新；UniApp 静态资源优化。
*   **并发处理**：Spring Boot 内置 Tomcat 线程池处理并发请求。

## 安全考虑

*   **身份验证**：强制登录验证，敏感接口不允许匿名访问。
*   **权限控制**：基于角色的访问控制（RBAC），确保普通用户无法访问管理员接口。
*   **数据安全**：用户密码加密存储；敏感操作记录日志。
*   **输入验证**：后端 DTO 层进行参数校验，防止 SQL 注入和非法数据录入。

## 维护和部署

*   **版本控制**：Git 管理代码。
*   **构建部署**：
    *   后端：Maven 打包生成的 JAR 文件，可直接运行或通过 Docker 容器化部署。
    *   前端：`npm run build:h5` 或 `npm run build:app` 生成静态资源或安装包。
*   **环境分离**：支持 Dev (开发) 和 Prod (生产) 多环境 Profile 配置。

## 项目周期和成果

*   **周期**：[请填入预计周期，例如：3个月]
*   **成果**：
    *   成功上线并稳定运行，支持 [X] 并发用户访问。
    *   完成了从出题到答题的全流程数字化，提升了考核效率。
    *   实现了多端统一接入，用户体验流畅。
    *   构建了完善的设备验证体系，有效管理了特定业务场景下的设备授权。